import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as e,o,c,d as n,e as s,b as t,f as i}from"./app-ff93bfbc.js";const l="/docs/assets/image/ffmpeg-plugin.png",u={},r=n("figure",null,[n("img",{src:l,alt:"ffmpeg-plugin",tabindex:"0",loading:"lazy"}),n("figcaption",null,"ffmpeg-plugin")],-1),d=n("h1",{id:"插件信息",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#插件信息","aria-hidden":"true"},"#"),s(" 插件信息")],-1),k=n("blockquote",null,[n("p",null,"从Pro 9.2开始，打包时插件可被合并到apk中，打包后无需再安装插件即可使用。")],-1),m={href:"https://baike.baidu.com/item/ffmpeg/2665727",target:"_blank",rel:"noopener noreferrer"},g=n("p",null,"本插件提供了调用ffmpeg命令的方法。",-1),f=n("h1",{id:"插件下载",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#插件下载","aria-hidden":"true"},"#"),s(" 插件下载")],-1),h=n("br",null,null,-1),v={href:"https://wwwq.lanzouc.com/icP4C167ys2j",target:"_blank",rel:"noopener noreferrer"},_=n("br",null,null,-1),b={href:"https://wwwq.lanzouc.com/iWzQg167ypnc",target:"_blank",rel:"noopener noreferrer"},w=i(`<h1 id="使用示例" tabindex="-1"><a class="header-anchor" href="#使用示例" aria-hidden="true">#</a> 使用示例</h1><h2 id="rhino引擎-pro-8-api" tabindex="-1"><a class="header-anchor" href="#rhino引擎-pro-8-api" aria-hidden="true">#</a> Rhino引擎(Pro 8 API)</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 加载ffmpeg插件</span>
<span class="token keyword">let</span> ffmpeg <span class="token operator">=</span> $plugins<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&#39;org.autojs.plugin.ffmpeg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> mp4Path <span class="token operator">=</span> <span class="token string">&quot;/sdcard/input.mp4&quot;</span>
<span class="token keyword">let</span> mp3Path <span class="token operator">=</span> <span class="token string">&quot;/sdcard/output.mp3&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 使用ffmpeg提取文件为mp3，参见https://www.baidu.com/s?wd=ffmpeg%20%E8%A7%86%E9%A2%91%E6%8F%90%E5%8F%96mp3</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> ffmpeg<span class="token punctuation">.</span>inProcess<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">-i &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>mp4Path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>mp3Path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="node-js引擎-pro-8-api" tabindex="-1"><a class="header-anchor" href="#node-js引擎-pro-8-api" aria-hidden="true">#</a> Node.js引擎(Pro 8 API)</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;nodejs&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;plugins&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 加载ffmpeg插件</span>
<span class="token keyword">const</span> ffmpeg <span class="token operator">=</span> plugins<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&#39;org.autojs.plugin.ffmpeg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> mp4Path <span class="token operator">=</span> <span class="token string">&quot;/sdcard/input.mp4&quot;</span>
<span class="token keyword">const</span> mp3Path <span class="token operator">=</span> <span class="token string">&quot;/sdcard/output.mp3&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 使用ffmpeg提取文件为mp3，参见https://www.baidu.com/s?wd=ffmpeg%20%E8%A7%86%E9%A2%91%E6%8F%90%E5%8F%96mp3</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> ffmpeg<span class="token punctuation">.</span>inProcess<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">-i &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>mp4Path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>mp3Path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5);function q(P,x){const a=e("ExternalLinkIcon");return o(),c("div",null,[r,d,k,n("p",null,[s("官方FFMpeg插件，可调用FFmpeg处理音视频文件、音视频流，比如文件格式转换(视频提取音频、提取图片，mp4转avi等)，视频加水印等，更多信息参见"),n("a",m,[s("FFMpeg百科"),t(a)]),s("。")]),g,f,n("p",null,[s("64位："),h,n("a",v,[s("https://wwwq.lanzouc.com/icP4C167ys2j"),t(a)])]),n("p",null,[s("32位："),_,n("a",b,[s("https://wwwq.lanzouc.com/iWzQg167ypnc"),t(a)])]),w])}const E=p(u,[["render",q],["__file","ffmpeg-plugin.html.vue"]]);export{E as default};
