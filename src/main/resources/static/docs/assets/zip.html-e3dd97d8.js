import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as i,c as l,d as n,e as s,b as e,f as t}from"./app-ff93bfbc.js";const c={},u=n("blockquote",null,[n("p",null,"Stability: 2 - Stable")],-1),d=n("p",null,"Zip模块用于处理文件的压缩和解压，并支持加密压缩。",-1),r={href:"https://javadoc.io/doc/net.lingala.zip4j/zip4j/1.3.2/net/lingala/zip4j/model/ZipParameters.html",target:"_blank",rel:"noopener noreferrer"},k=t(`<h2 id="zip-zipdir-dir-dest-options" tabindex="-1"><a class="header-anchor" href="#zip-zipdir-dir-dest-options" aria-hidden="true">#</a> $zip.zipDir(dir, dest[, options])</h2><ul><li><p><code>dir</code> {string} 需要压缩的文件夹路径，如果文件夹下有子文件夹均会一并压缩</p></li><li><p><code>dest</code> {string} 压缩后的压缩包存放路径</p></li><li><p><code>options</code> {object} 可选参数，选项option包括以下内容，完整的选项参见</p><p>压缩选项：</p><ul><li><code>password</code> {string} 加密压缩的密码。如果设置密码但不设置加密方法，则加密方法默认为AES</li><li><code>compressionMethod</code> {string} 压缩方式，<code>COMP_STORE</code>为仅打包不压缩, <code>COMP_DEFLATE</code>为压缩（默认）</li><li><code>encryptionMethod</code> {string} 加密方法，<code>ENC_NO_ENCRYPTION</code>为不加密(默认)，<code>ENC_METHOD_STANDARD</code>为标准机密, <code>ENC_METHOD_AES</code>为AES加密</li><li><code>compressionLevel</code> {number} 压缩级别，0~9，0为不压缩，9为最好压缩（速度较慢）。在8.7以前版本，默认为0不压缩；在8.7以后，该值默认为5（正常压缩）</li><li><code>aesKeyStrength</code> {string} AES加密强度，包括<code>AES_STRENGTH_128</code>，<code>AES_STRENGTH_192</code>，<code>AES_STRENGTH_256</code></li><li><code>readHiddenFiles</code> {boolean} 压缩文件夹时是否包含隐藏文件。如果为true，则在将文件夹添加到zip时将包含隐藏文件</li><li><code>includeRootFolder</code> {boolean} 设置标志以指示添加文件的父文件夹是否将包含在ZIP中。如果为true，则添加文件的父文件夹将包含在ZIP中。默认true</li><li><code>rootFolderInZip</code> {string} 设置压缩包首目录的文件夹名称，如果没有首目录，则创建这个首目录</li></ul></li></ul><p>压缩文件夹下所有文件/文件夹，生成到目标路径<code>dest</code>。</p><p>一个简单的压缩文件夹例子。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 需压缩文件路径</span>
<span class="token keyword">let</span> dir <span class="token operator">=</span> <span class="token string">&quot;./zipExample2/&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 压缩后文件存放路径</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>$files<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 文件夹不存在 创建文件夹 </span>
    $files<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
 <span class="token comment">// 创建一个文件，自己可多放几个文件或文件夹运行看效果</span>
 $files<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>$files<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> <span class="token string">&quot;test.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 压缩后文件存放路径</span>
<span class="token keyword">let</span> zipFile <span class="token operator">=</span> $files<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> <span class="token string">&quot;未加密压缩.zip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 删除同名文件</span>
$files<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>zipFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 压缩</span>
$zip<span class="token punctuation">.</span><span class="token function">zipDir</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> zipFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;压缩完成，压缩包路径：&quot;</span> <span class="token operator">+</span> zipFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>加密压缩例子</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 需压缩文件路径</span>
<span class="token keyword">let</span> dir <span class="token operator">=</span> <span class="token string">&quot;./zipExample2/&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 压缩后文件存放路径</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>$files<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 文件夹不存在 创建文件夹 </span>
    $files<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
 <span class="token comment">// 创建一个文件，自己可多放几个文件或文件夹运行看效果</span>
 $files<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>$files<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> <span class="token string">&quot;test.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 压缩包存放路径</span>
<span class="token keyword">let</span> encryptedZipFile <span class="token operator">=</span> $files<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> <span class="token string">&quot;加密压缩.zip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
$files<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>encryptedZipFile<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 删除同名文件</span>
<span class="token comment">// 压缩</span>
$zip<span class="token punctuation">.</span><span class="token function">zipDir</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> encryptedZipFile<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;Auto.js Pro&quot;</span> <span class="token comment">// 压缩密码</span>
    <span class="token literal-property property">compressionLevel</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// 压缩级别</span>
    <span class="token literal-property property">aesKeyStrength</span><span class="token operator">:</span> <span class="token string">&#39;AES_STRENGTH_256&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 加密方法</span>
    <span class="token literal-property property">readHiddenFiles</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 隐藏文件不添加进压缩包</span>
    <span class="token literal-property property">includeRootFolder</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//不添加文件夹父目录进压缩包</span>
    <span class="token literal-property property">rootFolderInZip</span><span class="token operator">:</span> <span class="token string">&quot;测试&quot;</span> <span class="token comment">// 为压缩包添加一个父目录</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;加密压缩完成，压缩包路径：&quot;</span> <span class="token operator">+</span> encryptedZipFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zip-zipfile-file-dest-options" tabindex="-1"><a class="header-anchor" href="#zip-zipfile-file-dest-options" aria-hidden="true">#</a> $zip.zipFile(file, dest[, options])</h2>`,8),v=n("li",null,[n("code",null,"file"),s(" {string} 需要压缩的单文件路径。")],-1),h=n("li",null,[n("code",null,"dest"),s(" {string} 压缩后的压缩包存放路径")],-1),m=n("code",null,"options",-1),f={href:"https://pro.autojs.org/docs/zh/v8/zip.html#%E5%8E%8B%E7%BC%A9%E9%80%89%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},b=t(`<p>压缩单文件<code>file</code>到路径<code>dest</code>。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">&quot;./zipExample/test.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>$files<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $files<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> zipFilePath <span class="token operator">=</span> <span class="token string">&quot;./zipExample/test.zip&quot;</span><span class="token punctuation">;</span>
$zip<span class="token punctuation">.</span><span class="token function">zipFile</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> zipFilePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;单文件压缩完成，压缩包路径：&quot;</span> <span class="token operator">+</span> zipFilePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zip-zipfiles-filelist-dest-options" tabindex="-1"><a class="header-anchor" href="#zip-zipfiles-filelist-dest-options" aria-hidden="true">#</a> $zip.zipFiles(fileList, dest[, options])</h2>`,3),g=n("li",null,[n("code",null,"fileList"),s(" {string[]} 需压缩的多个文件路径的数组")],-1),z=n("li",null,[n("code",null,"dest"),s(" {string} 压缩目标路径")],-1),_=n("code",null,"options",-1),E={href:"https://pro.autojs.org/docs/zh/v8/zip.html#%E5%8E%8B%E7%BC%A9%E9%80%89%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},F=t(`<p>压缩多个文件<code>fileList</code>到路径<code>dest</code>。<code>fileList</code>中不能包含文件夹。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> dir <span class="token operator">=</span> <span class="token string">&quot;./zipExample3/&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>$files<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $files<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> fileList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;file1.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;file2.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;file3.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> $files<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fileList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">file</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        $files<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> zipMultiFile <span class="token operator">=</span> $files<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> <span class="token string">&quot;多文件压缩.zip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$files<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>zipMultiFile<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 删除同名文件</span>
$zip<span class="token punctuation">.</span><span class="token function">zipFiles</span><span class="token punctuation">(</span>fileList<span class="token punctuation">,</span> zipMultiFile<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 压缩</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;多文件压缩完成，压缩包路径：&quot;</span> <span class="token operator">+</span> zipMultiFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zip-unzip-zipfile-dest-options" tabindex="-1"><a class="header-anchor" href="#zip-unzip-zipfile-dest-options" aria-hidden="true">#</a> $zip.unzip(zipFile, dest[, options])</h2>`,3),j=n("li",null,[n("code",null,"zipFile"),s(" {string} 需解压的压缩包文件路径")],-1),q=n("li",null,[n("code",null,"dest"),s(" {string} 解压后的文件夹目录")],-1),y=n("code",null,"options",-1),x={href:"https://pro.autojs.org/docs/zh/v8/zip.html#%E8%A7%A3%E5%8E%8B%E9%80%89%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},A=t(`<p>解压zip文件。如果文件夹<code>dest</code>不存在则创建该文件夹并将内容解压到里面；如果<code>dest</code>已经存在，则在<code>dest</code>下面创建一个和<code>zipFile</code>文件同名的文件夹，并将内容解压到里面。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 准备一个加密的压缩包</span>
<span class="token keyword">let</span> dir <span class="token operator">=</span> <span class="token string">&quot;./zipExample2/&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>$files<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $files<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 压缩后文件存放路径</span>
<span class="token keyword">let</span> encryptedZipFile <span class="token operator">=</span> $files<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> <span class="token string">&quot;加密压缩.zip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$files<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>encryptedZipFile<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 删除同名文件</span>
<span class="token comment">// 压缩</span>
$zip<span class="token punctuation">.</span><span class="token function">zipDir</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> encryptedZipFile<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&quot;Auto.js Pro&quot;</span> <span class="token comment">// 压缩密码</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

$zip<span class="token punctuation">.</span><span class="token function">unzip</span><span class="token punctuation">(</span>encryptedZipFile<span class="token punctuation">,</span> <span class="token string">&#39;./zipExample5&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&#39;Auto.js Pro&#39;</span> <span class="token comment">// 解压密码</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;加密zip解压成功，解压路径：&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;./zipExample5/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zip-open-file" tabindex="-1"><a class="header-anchor" href="#zip-open-file" aria-hidden="true">#</a> $zip.open(file)</h2>`,3),$=n("li",null,[n("code",null,"file"),s(" {string} 压缩包文件路径")],-1),w={href:"https://pro.autojs.org/docs/zh/v8/zip.html#zipfile",target:"_blank",rel:"noopener noreferrer"},Z=t(`<p>打开一个zip文件，返回<code>ZipFile</code>对象，可对该对象进行进一步的zip操作。</p><h1 id="zipfile" tabindex="-1"><a class="header-anchor" href="#zipfile" aria-hidden="true">#</a> ZipFile</h1><p><code>$zip.open()</code>返回的对象，用于在压缩包中增删文件、获取文件头信息、解压等。</p><h2 id="zipfile-getpath" tabindex="-1"><a class="header-anchor" href="#zipfile-getpath" aria-hidden="true">#</a> ZipFile.getPath()</h2><ul><li>返回 {string} 返回路径</li></ul><p>获取当前压缩包的路径。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token string">&quot;./test.zip&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> zipFile <span class="token operator">=</span> $zip<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span>zipFile<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出路径 &quot;./test.zip&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zipfile-isvalidzipfile" tabindex="-1"><a class="header-anchor" href="#zipfile-isvalidzipfile" aria-hidden="true">#</a> ZipFile.isValidZipFile()</h2><ul><li>返回 {boolean} 是否是有效压缩包</li></ul><p>获取当前压缩包是否是一个有效的压缩包。</p><p>如果选择的路径不是一个压缩包或该文件不存在，均返回<code>false</code>。</p><h2 id="zipfile-setpassword-password" tabindex="-1"><a class="header-anchor" href="#zipfile-setpassword-password" aria-hidden="true">#</a> ZipFile.setPassword(password)</h2><ul><li><code>password</code> {string} 设置密码</li></ul><p>如果文件是一个加密的压缩包，必须用此函数设置正确的解压密码，才能解压出加密的文件。</p><p>未设置密码尝试解压加密的压缩包将抛出异常，选择的压缩包文件不存在使用本函数将抛出<code>ZipException</code>。</p><h2 id="zipfile-isencrypted" tabindex="-1"><a class="header-anchor" href="#zipfile-isencrypted" aria-hidden="true">#</a> ZipFile.isEncrypted()</h2><ul><li>返回 {boolean} 是否压缩包加密</li></ul><p>获取当前压缩包是否是加密压缩包。</p><h2 id="zipfile-addfile-file-options" tabindex="-1"><a class="header-anchor" href="#zipfile-addfile-file-options" aria-hidden="true">#</a> ZipFile.addFile(file[, options])</h2>`,19),S=n("li",null,[n("code",null,"file"),s(" {string} 本地文件路径")],-1),N=n("code",null,"options",-1),T={href:"https://pro.autojs.org/docs/zh/v8/zip.html#%E5%8E%8B%E7%BC%A9%E9%80%89%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},B=t(`<p>在压缩包中添加指定文件。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> zipFile <span class="token operator">=</span> $zip<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;./app.apk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
zipFile<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zipfile-addfiles-filelist-options" tabindex="-1"><a class="header-anchor" href="#zipfile-addfiles-filelist-options" aria-hidden="true">#</a> ZipFile.addFiles(fileList, options)</h2>`,3),P=n("li",null,[n("code",null,"fileList"),s(" {string[]} 要添加的本地文件路径的数组")],-1),H=n("code",null,"options",-1),C={href:"https://pro.autojs.org/docs/zh/v8/zip.html#%E5%8E%8B%E7%BC%A9%E9%80%89%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},O=n("p",null,"在压缩包中添加多个文件。",-1),L=n("h2",{id:"zipfile-addfolder-folder-options",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#zipfile-addfolder-folder-options","aria-hidden":"true"},"#"),s(" ZipFile.addFolder(folder[, options])")],-1),M=n("li",null,[n("code",null,"folder"),s(" {string} 文件夹路径")],-1),R=n("code",null,"options",-1),D={href:"https://pro.autojs.org/docs/zh/v8/zip.html#%E5%8E%8B%E7%BC%A9%E9%80%89%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},I=t(`<p>在压缩包中添加指定文件夹。</p><p>注意</p><p>注意不要添加压缩包的父目录，否则可能造成循环无限添加！</p><p>一个备份脚本的简单例子：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> zipFile <span class="token operator">=</span> <span class="token string">&quot;/sdcard/scripts.zip&quot;</span><span class="token punctuation">;</span>
 <span class="token comment">//指定压缩包文件</span>
<span class="token keyword">let</span> zip <span class="token operator">=</span> $zip<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>zipFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;开始备份，取决与你的脚本数量&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 向压缩包添加当前文件夹</span>
zip<span class="token punctuation">.</span><span class="token function">addFolder</span><span class="token punctuation">(</span><span class="token string">&quot;./&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;备份完成，压缩包路径为：&quot;</span> <span class="token operator">+</span> zipFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zipfile-removefile-file" tabindex="-1"><a class="header-anchor" href="#zipfile-removefile-file" aria-hidden="true">#</a> ZipFile.removeFile(file)</h2><ul><li><code>file</code> {string} 要删除的文件</li></ul><p>删除zip文件内的指定文件。此方法首先找到文件头，然后删除文件；如果文件不存在，则此方法引发异常。</p><p>如果zip文件是分割后的zip文件，则此方法会抛出异常，原因是zip规范不允许更新拆分的zip档案。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> zipFile <span class="token operator">=</span> $zip<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;./app.apk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
zipFile<span class="token punctuation">.</span><span class="token function">removeFile</span><span class="token punctuation">(</span><span class="token string">&quot;res/drawable/logo.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zipfile-extractfile-file-dest-options-newfilename" tabindex="-1"><a class="header-anchor" href="#zipfile-extractfile-file-dest-options-newfilename" aria-hidden="true">#</a> ZipFile.extractFile(file, dest[, options, newFileName])</h2>`,11),G=n("li",null,[n("code",null,"file"),s(" {string} 要解压的文件")],-1),V=n("li",null,[n("code",null,"dest"),s(" {string} 解压文件的目标路径")],-1),K=n("code",null,"options",-1),Y={href:"https://pro.autojs.org/docs/zh/v8/zip.html#%E8%A7%A3%E5%8E%8B%E9%80%89%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},J=n("li",null,[n("code",null,"newFileName"),s(" {string} 解压后文件的新名字，可选.")],-1),Q=n("p",null,"从压缩包文件中提取特定文件到目标路径。如果目标路径无效，则此方法将引发异常。",-1),U=n("h2",{id:"zipfile-extractall-dest-options",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#zipfile-extractall-dest-options","aria-hidden":"true"},"#"),s(" ZipFile.extractAll(dest{, options})")],-1),W=n("li",null,[n("code",null,"dest"),s(" {string} 解压路径")],-1),X=n("code",null,"options",-1),nn={href:"https://pro.autojs.org/docs/zh/v8/zip.html#%E8%A7%A3%E5%8E%8B%E9%80%89%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},sn=t(`<p>解压所有文件到目标路径<code>dest</code>。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> zip <span class="token operator">=</span> $zip<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;./test.zip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
zip<span class="token punctuation">.</span><span class="token function">addFiles</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;./test.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./test.txt&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
zip<span class="token punctuation">.</span><span class="token function">extractAll</span><span class="token punctuation">(</span><span class="token string">&quot;./test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zipfile-getfileheader-file" tabindex="-1"><a class="header-anchor" href="#zipfile-getfileheader-file" aria-hidden="true">#</a> ZipFile.getFileHeader(file)</h2>`,3),an=n("li",null,[n("code",null,"file"),s(" {string} 压缩包内指定文件路径")],-1),en={href:"https://javadoc.io/doc/net.lingala.zip4j/zip4j/1.3.2/net/lingala/zip4j/model/FileHeader.html",target:"_blank",rel:"noopener noreferrer"},tn=n("p",null,"获取压缩包内指定文件的文件头信息。文件头信息包括校验值，是否加密，注释等。",-1),pn=n("h2",{id:"zipfile-getfileheaders",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#zipfile-getfileheaders","aria-hidden":"true"},"#"),s(" ZipFile.getFileHeaders()")],-1),on={href:"https://javadoc.io/doc/net.lingala.zip4j/zip4j/1.3.2/net/lingala/zip4j/model/FileHeader.html",target:"_blank",rel:"noopener noreferrer"},ln=t('<p>获取压缩包内所有文件的文件头信息。文件头信息包括校验值，是否加密，注释等。</p><h1 id="压缩选项" tabindex="-1"><a class="header-anchor" href="#压缩选项" aria-hidden="true">#</a> 压缩选项</h1><p><code>options</code> {object} 包括:</p><ul><li><code>aesKeyStrength</code> {string} AES加密强度，包括<code>AES_STRENGTH_128</code>，<code>AES_STRENGTH_192</code>，<code>AES_STRENGTH_256</code></li><li><code>compressionLevel</code> {number} 压缩级别，0~9，0为不压缩，9为最好压缩（速度较慢）。在8.7以前版本，默认为0不压缩；在8.7以后，该值默认为5（正常压缩）</li><li><code>compressionMethod</code> {string} 压缩方式，<code>COMP_STORE</code>为仅打包不压缩, <code>COMP_DEFLATE</code>为压缩（默认）</li><li><code>defaultFolderPath</code> {string} 压缩或添加文件时，指定文件在压缩包的默认文件夹位置</li><li><code>encryptionMethod</code> {string} 加密方法，<code>ENC_NO_ENCRYPTION</code>为不加密(默认)，<code>ENC_METHOD_STANDARD</code>为标准机密, <code>ENC_METHOD_AES</code>为AES加密</li><li><code>fileNameInZip</code> {string} 压缩或添加文件时，指定文件在压缩包中的路径、名称</li><li><code>includeRootFolder</code> {boolean} 设置标志以指示添加文件的父文件夹是否将包含在ZIP中。如果为true，则添加文件的父文件夹将包含在ZIP中。默认true</li><li><code>password</code> {string} 加密压缩的密码。如果设置密码但不设置加密方法，则加密方法默认为AES</li><li><code>readHiddenFiles</code> {boolean} 压缩文件夹时是否包含隐藏文件。如果为true，则在将文件夹添加到zip时将包含隐藏文件</li><li><code>rootFolderInZip</code> {string} 设置压缩包首目录的文件夹名称，如果没有首目录，则创建这个首目录</li></ul><h1 id="解压选项" tabindex="-1"><a class="header-anchor" href="#解压选项" aria-hidden="true">#</a> 解压选项</h1><p><code>options</code> {object} 包括：</p><ul><li><p><code>ignoreAttribute</code> {string[]} 解压文件写入磁盘时，要忽略的文件属性，包括：</p><ul><li><code>alls</code> 所有属性</li><li><code>archive</code> 压缩包属性</li><li><code>dateTime</code> 时间</li><li><code>hidden</code> 是否隐藏</li><li><code>readOnly</code> 是否只读</li><li><code>system</code> 是否为系统文件</li></ul></li></ul>',7);function cn(un,dn){const a=o("ExternalLinkIcon");return i(),l("div",null,[u,d,n("blockquote",null,[n("p",null,[s("zip功能来自"),n("a",r,[s("zip4j"),e(a)]),s("，可阅读相关文档获取更多信息。")])]),k,n("ul",null,[v,h,n("li",null,[m,s(" {object} 选项参见参见"),n("a",f,[s("压缩选项"),e(a)])])]),b,n("ul",null,[g,z,n("li",null,[_,s(" {object} 选项参见"),n("a",E,[s("压缩选项"),e(a)])])]),F,n("ul",null,[j,q,n("li",null,[y,s(" {object} 解压选项，可选，参见"),n("a",x,[s("解压选项"),e(a)])])]),A,n("ul",null,[$,n("li",null,[s("返回 {"),n("a",w,[s("ZipFile"),e(a)]),s("} ZipFile对象")])]),Z,n("ul",null,[S,n("li",null,[N,s(" {object} 压缩选项，可选，参见"),n("a",T,[s("压缩选项"),e(a)])])]),B,n("ul",null,[P,n("li",null,[H,s(" {object} 压缩选项，可选，参见"),n("a",C,[s("压缩选项"),e(a)])])]),O,L,n("ul",null,[M,n("li",null,[R,s(" {object} 压缩选项，可选，参见"),n("a",D,[s("压缩选项"),e(a)])])]),I,n("ul",null,[G,V,n("li",null,[K,s(" {Object} 解压选项，可选。参见"),n("a",Y,[s("解压选项"),e(a)])]),J]),Q,U,n("ul",null,[W,n("li",null,[X,s(" {Object} 解压选项，可选。参见"),n("a",nn,[s("解压选项"),e(a)])])]),sn,n("ul",null,[an,n("li",null,[s("返回 {"),n("a",en,[s("FileHeader"),e(a)]),s("}")])]),tn,pn,n("ul",null,[n("li",null,[s("返回 {Array<"),n("a",on,[s("FileHeader"),e(a)]),s(">}")])]),ln])}const vn=p(c,[["render",cn],["__file","zip.html.vue"]]);export{vn as default};
