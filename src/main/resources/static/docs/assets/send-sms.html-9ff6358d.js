import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,f as t}from"./app-ff93bfbc.js";const e={},p=t(`<h1 id="使用-auto-js-发送短信" tabindex="-1"><a class="header-anchor" href="#使用-auto-js-发送短信" aria-hidden="true">#</a> 使用 Auto.js 发送短信</h1><p>在Android开发中，使用Auto.js可以轻松编写自动化脚本。本篇文章将介绍如何使用Auto.js发送短信。</p><h2 id="准备工作" tabindex="-1"><a class="header-anchor" href="#准备工作" aria-hidden="true">#</a> 准备工作</h2><p>在开始之前，您需要确保已经在Android设备上安装了Auto.js应用，并且已经获取了发送短信的权限。</p><h2 id="编写代码" tabindex="-1"><a class="header-anchor" href="#编写代码" aria-hidden="true">#</a> 编写代码</h2><p>创建一个新的Auto.js脚本，在脚本中导入<code>android.app.PendingIntent</code>类并定义其他必要的变量。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">importClass</span><span class="token punctuation">(</span><span class="token string">&#39;android.app.PendingIntent&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> smsManager <span class="token operator">=</span> android<span class="token punctuation">.</span>telephony<span class="token punctuation">.</span>SmsManager<span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> phoneNumber <span class="token operator">=</span> <span class="token string">&quot;1234567890&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 设置要发送短信的手机号码</span>
<span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token string">&quot;Hello, World!&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 设置要发送的短信内容</span>

<span class="token comment">// 创建PendingIntent对象，用于接收发送和交付短信的结果</span>
<span class="token keyword">var</span> sentIntent <span class="token operator">=</span> PendingIntent<span class="token punctuation">.</span><span class="token function">getBroadcast</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> deliveredIntent <span class="token operator">=</span> PendingIntent<span class="token punctuation">.</span><span class="token function">getBroadcast</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 发送短信</span>
smsManager<span class="token punctuation">.</span><span class="token function">sendTextMessage</span><span class="token punctuation">(</span>phoneNumber<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> message<span class="token punctuation">,</span> sentIntent<span class="token punctuation">,</span> deliveredIntent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="封装函数" tabindex="-1"><a class="header-anchor" href="#封装函数" aria-hidden="true">#</a> 封装函数</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * 发送短信
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">phoneNumber</span> 接收短信的手机号码
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">message</span> 要发送的短信内容
 */</span>
<span class="token keyword">function</span> <span class="token function">sendSMS</span><span class="token punctuation">(</span><span class="token parameter">phoneNumber<span class="token punctuation">,</span> message</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> smsManager <span class="token operator">=</span> android<span class="token punctuation">.</span>telephony<span class="token punctuation">.</span>SmsManager<span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 创建PendingIntent对象，用于接收发送和交付短信的结果</span>
    <span class="token keyword">let</span> sentIntent <span class="token operator">=</span> android<span class="token punctuation">.</span>app<span class="token punctuation">.</span>PendingIntent<span class="token punctuation">.</span><span class="token function">getBroadcast</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> deliveredIntent <span class="token operator">=</span> android<span class="token punctuation">.</span>app<span class="token punctuation">.</span>PendingIntent<span class="token punctuation">.</span><span class="token function">getBroadcast</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 发送短信</span>
    smsManager<span class="token punctuation">.</span><span class="token function">sendTextMessage</span><span class="token punctuation">(</span>phoneNumber<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> message<span class="token punctuation">,</span> sentIntent<span class="token punctuation">,</span> deliveredIntent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> phoneNumber <span class="token operator">=</span> <span class="token string">&quot;1234567890&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 设置要发送短信的手机号码</span>
<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">&quot;Hello, World!&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 设置要发送的短信内容</span>

<span class="token function">sendSMS</span><span class="token punctuation">(</span>phoneNumber<span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="运行脚本" tabindex="-1"><a class="header-anchor" href="#运行脚本" aria-hidden="true">#</a> 运行脚本</h2><p>将脚本保存为&quot;send-sms.js&quot;，然后在Auto.js应用中运行该脚本。脚本将发送一条包含&quot;Hello, World!&quot;内容的短信到指定的手机号码。</p><h2 id="结论" tabindex="-1"><a class="header-anchor" href="#结论" aria-hidden="true">#</a> 结论</h2><p>通过Auto.js，您可以轻松地使用<code>android.telephony.SmsManager</code>类发送短信。使用<code>PendingIntent</code>对象，您可以接收发送和交付短信的结果。</p><p>希望本文对您有所帮助！如果您有任何其他问题，请随时提问。</p>`,14),o=[p];function c(l,u){return s(),a("div",null,o)}const r=n(e,[["render",c],["__file","send-sms.html.vue"]]);export{r as default};
