import{_ as r}from"./plugin-vue_export-helper-c27b6911.js";import{r as l,o as s,c as h,d as e,b as d,w as n,e as t,f as i}from"./app-ff93bfbc.js";const c={},g=i('<p>悬浮窗对象。用于控制悬浮窗位置、大小、内容等。</p><h2 id="继承关系" tabindex="-1"><a class="header-anchor" href="#继承关系" aria-hidden="true">#</a> 继承关系</h2><ul><li><p><code>unknown</code></p><p>↳ <strong><code>FloatingWindow</code></strong></p></li></ul><h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录" aria-hidden="true">#</a> 目录</h2><h3 id="属性" tabindex="-1"><a class="header-anchor" href="#属性" aria-hidden="true">#</a> 属性</h3>',5),f=e("h3",{id:"方法",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#方法","aria-hidden":"true"},"#"),t(" 方法")],-1),u=i('<h2 id="属性-1" tabindex="-1"><a class="header-anchor" href="#属性-1" aria-hidden="true">#</a> 属性</h2><h3 id="isshowing" tabindex="-1"><a class="header-anchor" href="#isshowing" aria-hidden="true">#</a> isShowing</h3><p>• <code>Readonly</code> <strong>isShowing</strong>: <code>boolean</code></p><p>悬浮窗是否正在显示。</p><hr><h3 id="position" tabindex="-1"><a class="header-anchor" href="#position" aria-hidden="true">#</a> position</h3>',6),_=e("code",null,"Readonly",-1),w=e("strong",null,"position",-1),m=e("code",null,"Point",-1),v=e("p",null,"悬浮窗的当前位置。",-1),p=e("hr",null,null,-1),x=e("h3",{id:"size",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#size","aria-hidden":"true"},"#"),t(" size")],-1),b=e("code",null,"Readonly",-1),y=e("strong",null,"size",-1),F=e("code",null,"Size",-1),L=i('<p>悬浮窗的当前大小。</p><hr><h3 id="view" tabindex="-1"><a class="header-anchor" href="#view" aria-hidden="true">#</a> view</h3><p>• <code>Optional</code> <code>Readonly</code> <strong>view</strong>: <code>any</code></p><p>当前悬浮窗的内容View，若没有设置，则为<code>undefined</code>。</p><h2 id="方法-1" tabindex="-1"><a class="header-anchor" href="#方法-1" aria-hidden="true">#</a> 方法</h2><h3 id="addflags" tabindex="-1"><a class="header-anchor" href="#addflags" aria-hidden="true">#</a> addFlags</h3><p>▸ <strong>addFlags</strong>(<code>flags</code>): <code>void</code></p>',8),W={href:"/v9/generated/modules/floating_window.html#flag_not_touchable",target:"_blank",rel:"noopener noreferrer"},O={href:"https://pro.autojs.org/docs/zh/v9/generated/modules/floating_window.md#flag_not_focusable",target:"_blank",rel:"noopener noreferrer"},A={href:"https://developer.android.google.cn/reference/android/view/WindowManager.LayoutParams#FLAG_ALLOW_LOCK_WHILE_SCREEN_ON",target:"_blank",rel:"noopener noreferrer"},V=i(`<p><strong><code>示例</code></strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&quot;nodejs&quot;;
const { createWindow, FLAG_NOT_TOUCHABLE } = require(&quot;floating_window&quot;);
async function main() {
  const window = createWindow();
  window.setViewFromXml(...);
  window.addFlags(FLAG_NOT_TOUCHABLE)
  window.show();
}
main();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="参数" tabindex="-1"><a class="header-anchor" href="#参数" aria-hidden="true">#</a> 参数</h4><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">类型</th></tr></thead><tbody><tr><td style="text-align:left;"><code>flags</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="返回值" tabindex="-1"><a class="header-anchor" href="#返回值" aria-hidden="true">#</a> 返回值</h4><p><code>void</code></p><hr><h3 id="close" tabindex="-1"><a class="header-anchor" href="#close" aria-hidden="true">#</a> close</h3><p>▸ <strong>close</strong>(): <code>Promise</code>&lt;<code>void</code>&gt;</p><p>关闭悬浮窗。</p><h4 id="返回值-1" tabindex="-1"><a class="header-anchor" href="#返回值-1" aria-hidden="true">#</a> 返回值</h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="enabledrag" tabindex="-1"><a class="header-anchor" href="#enabledrag" aria-hidden="true">#</a> enableDrag</h3>`,14),z=e("strong",null,"enableDrag",-1),G=e("code",null,"view",-1),P=e("code",null,"options?",-1),S=e("code",null,"DragGesture",-1),N=e("p",null,"启用悬浮窗的拖拽手势。",-1),E=e("h4",{id:"参数-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#参数-1","aria-hidden":"true"},"#"),t(" 参数")],-1),T=e("thead",null,[e("tr",null,[e("th",{style:{"text-align":"left"}},"名称"),e("th",{style:{"text-align":"left"}},"类型"),e("th",{style:{"text-align":"left"}},"描述")])],-1),k=e("tr",null,[e("td",{style:{"text-align":"left"}},[e("code",null,"view")]),e("td",{style:{"text-align":"left"}},[e("code",null,"View")]),e("td",{style:{"text-align":"left"}},"启用拖拽手势的拖动锚点，拖动该View即可拖动整个悬浮窗")],-1),C=e("td",{style:{"text-align":"left"}},[e("code",null,"options?")],-1),q={style:{"text-align":"left"}},D=e("code",null,"DragGestureOptions",-1),B=e("td",{style:{"text-align":"left"}},"拖拽悬浮窗的选项",-1),U=e("h4",{id:"返回值-2",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#返回值-2","aria-hidden":"true"},"#"),t(" 返回值")],-1),I=e("code",null,"DragGesture",-1),R=e("p",null,"DragGesture对象，可用于后续禁用手势",-1),X=e("hr",null,null,-1),H=e("h3",{id:"on",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#on","aria-hidden":"true"},"#"),t(" on")],-1),M=e("strong",null,"on",-1),j=e("code",null,"event",-1),K=e("code",null,"listener",-1),Y=e("code",null,"FloatingWindow",-1),J=i('<h4 id="参数-2" tabindex="-1"><a class="header-anchor" href="#参数-2" aria-hidden="true">#</a> 参数</h4><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">类型</th></tr></thead><tbody><tr><td style="text-align:left;"><code>event</code></td><td style="text-align:left;"><code>&quot;touch&quot;</code></td></tr><tr><td style="text-align:left;"><code>listener</code></td><td style="text-align:left;">(<code>event</code>: <code>any</code>) =&gt; <code>void</code></td></tr></tbody></table><h4 id="返回值-3" tabindex="-1"><a class="header-anchor" href="#返回值-3" aria-hidden="true">#</a> 返回值</h4>',3),Q=e("code",null,"FloatingWindow",-1),Z=e("hr",null,null,-1),$=e("h3",{id:"removeflags",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#removeflags","aria-hidden":"true"},"#"),t(" removeFlags")],-1),ee=e("p",null,[t("▸ "),e("strong",null,"removeFlags"),t("("),e("code",null,"flags"),t("): "),e("code",null,"void")],-1),te={href:"/v9/generated/modules/floating_window.html#flag_not_touchable",target:"_blank",rel:"noopener noreferrer"},de={href:"https://pro.autojs.org/docs/zh/v9/generated/modules/floating_window.md#flag_not_focusable",target:"_blank",rel:"noopener noreferrer"},ae={href:"https://developer.android.google.cn/reference/android/view/WindowManager.LayoutParams#FLAG_ALLOW_LOCK_WHILE_SCREEN_ON",target:"_blank",rel:"noopener noreferrer"},ne=i(`<p><strong><code>示例</code></strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&quot;nodejs&quot;;
const { createWindow, FLAG_LAYOUT_NO_LIMITS, FLAG_NOT_FOCUSABLE } = require(&quot;floating_window&quot;);
async function main() {
  const window = createWindow();
  window.setViewFromXml(...);
  window.removeFlags(FLAG_LAYOUT_NO_LIMITS | FLAG_NOT_FOCUSABLE)
  window.show();
}
main();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="参数-3" tabindex="-1"><a class="header-anchor" href="#参数-3" aria-hidden="true">#</a> 参数</h4><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">类型</th></tr></thead><tbody><tr><td style="text-align:left;"><code>flags</code></td><td style="text-align:left;"><code>number</code></td></tr></tbody></table><h4 id="返回值-4" tabindex="-1"><a class="header-anchor" href="#返回值-4" aria-hidden="true">#</a> 返回值</h4><p><code>void</code></p><hr><h3 id="setposition" tabindex="-1"><a class="header-anchor" href="#setposition" aria-hidden="true">#</a> setPosition</h3><p>▸ <strong>setPosition</strong>(<code>x</code>, <code>y</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p><p>设置悬浮窗的位置，单位为像素。</p><h4 id="参数-4" tabindex="-1"><a class="header-anchor" href="#参数-4" aria-hidden="true">#</a> 参数</h4><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">类型</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;"><code>x</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">x坐标</td></tr><tr><td style="text-align:left;"><code>y</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">y坐标</td></tr></tbody></table><h4 id="返回值-5" tabindex="-1"><a class="header-anchor" href="#返回值-5" aria-hidden="true">#</a> 返回值</h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="setsize" tabindex="-1"><a class="header-anchor" href="#setsize" aria-hidden="true">#</a> setSize</h3><p>▸ <strong>setSize</strong>(<code>width</code>, <code>height</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p><p>设置悬浮窗的大小，单位为像素。</p><h4 id="参数-5" tabindex="-1"><a class="header-anchor" href="#参数-5" aria-hidden="true">#</a> 参数</h4><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">类型</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;"><code>width</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">宽度，可能为负数，参见Size。</td></tr><tr><td style="text-align:left;"><code>height</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">高度，可能为负数，参见Size。</td></tr></tbody></table><h4 id="返回值-6" tabindex="-1"><a class="header-anchor" href="#返回值-6" aria-hidden="true">#</a> 返回值</h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="setview" tabindex="-1"><a class="header-anchor" href="#setview" aria-hidden="true">#</a> setView</h3><p>▸ <strong>setView</strong>(<code>view</code>): <code>void</code></p><p>设置给定的View为悬浮窗的内容。</p><h4 id="参数-6" tabindex="-1"><a class="header-anchor" href="#参数-6" aria-hidden="true">#</a> 参数</h4><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">类型</th></tr></thead><tbody><tr><td style="text-align:left;"><code>view</code></td><td style="text-align:left;"><code>View</code></td></tr></tbody></table><h4 id="返回值-7" tabindex="-1"><a class="header-anchor" href="#返回值-7" aria-hidden="true">#</a> 返回值</h4><p><code>void</code></p><hr><h3 id="setviewfromxml" tabindex="-1"><a class="header-anchor" href="#setviewfromxml" aria-hidden="true">#</a> setViewFromXml</h3><p>▸ <strong>setViewFromXml</strong>(<code>xml</code>): <code>void</code></p><p>解析xml为View，设置为悬浮窗的内容。</p><h4 id="参数-7" tabindex="-1"><a class="header-anchor" href="#参数-7" aria-hidden="true">#</a> 参数</h4><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">类型</th></tr></thead><tbody><tr><td style="text-align:left;"><code>xml</code></td><td style="text-align:left;"><code>string</code></td></tr></tbody></table><h4 id="返回值-8" tabindex="-1"><a class="header-anchor" href="#返回值-8" aria-hidden="true">#</a> 返回值</h4><p><code>void</code></p><hr><h3 id="setviewfromxmlfile" tabindex="-1"><a class="header-anchor" href="#setviewfromxmlfile" aria-hidden="true">#</a> setViewFromXmlFile</h3><p>▸ <strong>setViewFromXmlFile</strong>(<code>xmlFile</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p><p>解析给定路径的xml文件为View，设置为悬浮窗的内容。读取文件是异步的，因此此函数也是异步的。</p><h4 id="参数-8" tabindex="-1"><a class="header-anchor" href="#参数-8" aria-hidden="true">#</a> 参数</h4><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">类型</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;"><code>xmlFile</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">xml文件路径</td></tr></tbody></table><h4 id="返回值-9" tabindex="-1"><a class="header-anchor" href="#返回值-9" aria-hidden="true">#</a> 返回值</h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="show" tabindex="-1"><a class="header-anchor" href="#show" aria-hidden="true">#</a> show</h3><p>▸ <strong>show</strong>(): <code>Promise</code>&lt;<code>void</code>&gt;</p><p>显示悬浮窗。</p>`,50),oe={href:"/v9/generated/modules/floating_window.html#managedrawoverlays",target:"_blank",rel:"noopener noreferrer"},ie={href:"https://pro.autojs.org/docs/zh/v9/generated/modules/floating_window.md#candrawoverlays",target:"_blank",rel:"noopener noreferrer"},le=e("h4",{id:"返回值-10",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#返回值-10","aria-hidden":"true"},"#"),t(" 返回值")],-1),re=e("p",null,[e("code",null,"Promise"),t("<"),e("code",null,"void"),t(">")],-1);function se(he,ce){const a=l("RouterLink"),o=l("ExternalLinkIcon");return s(),h("div",null,[e("p",null,[d(a,{to:"/v9/generated/modules/floating_window.html"},{default:n(()=>[t("floating_window")]),_:1}),t(".FloatingWindow")]),g,e("ul",null,[e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#isshowing"},{default:n(()=>[t("isShowing")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#position"},{default:n(()=>[t("position")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#size"},{default:n(()=>[t("size")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#view"},{default:n(()=>[t("view")]),_:1})])]),f,e("ul",null,[e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#addflags"},{default:n(()=>[t("addFlags")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#close"},{default:n(()=>[t("close")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#enabledrag"},{default:n(()=>[t("enableDrag")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#on"},{default:n(()=>[t("on")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#removeflags"},{default:n(()=>[t("removeFlags")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#setposition"},{default:n(()=>[t("setPosition")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#setsize"},{default:n(()=>[t("setSize")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#setview"},{default:n(()=>[t("setView")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#setviewfromxml"},{default:n(()=>[t("setViewFromXml")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#setviewfromxmlfile"},{default:n(()=>[t("setViewFromXmlFile")]),_:1})]),e("li",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html#show"},{default:n(()=>[t("show")]),_:1})])]),u,e("p",null,[t("• "),_,t(),w,t(": "),d(a,{to:"/v9/generated/interfaces/ui.Point.html"},{default:n(()=>[m]),_:1})]),v,p,x,e("p",null,[t("• "),b,t(),y,t(": "),d(a,{to:"/v9/generated/interfaces/ui.Size.html"},{default:n(()=>[F]),_:1})]),L,e("p",null,[t("给悬浮窗口增加特定标志位，比如"),e("a",W,[t("FLAG_NOT_TOUCHABLE"),d(o)]),t("让窗口不可触摸，"),e("a",O,[t("FLAG_NOT_FOCUSABLE"),d(o)]),t("让窗口不可获得焦点。")]),e("p",null,[t("本模块附带部分常用的标志位，但完整的标志位需要访问Android文档"),e("a",A,[t("WindowManager.LayoutParams"),d(o)]),t("。")]),V,e("p",null,[t("▸ "),z,t("("),G,t(", "),P,t("): "),d(a,{to:"/v9/generated/interfaces/floating_window.DragGesture.html"},{default:n(()=>[S]),_:1})]),N,E,e("table",null,[T,e("tbody",null,[k,e("tr",null,[C,e("td",q,[d(a,{to:"/v9/generated/interfaces/floating_window.DragGestureOptions.html"},{default:n(()=>[D]),_:1})]),B])])]),U,e("p",null,[d(a,{to:"/v9/generated/interfaces/floating_window.DragGesture.html"},{default:n(()=>[I]),_:1})]),R,X,H,e("p",null,[t("▸ "),M,t("("),j,t(", "),K,t("): "),d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html"},{default:n(()=>[Y]),_:1})]),J,e("p",null,[d(a,{to:"/v9/generated/interfaces/floating_window.FloatingWindow.html"},{default:n(()=>[Q]),_:1})]),Z,$,ee,e("p",null,[t("对悬浮窗口移除特定标志位，比如"),e("a",te,[t("FLAG_NOT_TOUCHABLE"),d(o)]),t("让窗口恢复可触摸，"),e("a",de,[t("FLAG_NOT_FOCUSABLE"),d(o)]),t("让窗口可获得焦点。")]),e("p",null,[t("本模块附带部分常用的标志位，但完整的标志位需要访问Android文档"),e("a",ae,[t("WindowManager.LayoutParams"),d(o)]),t("。")]),ne,e("p",null,[t("需要注意的是，显示悬浮窗需要启动悬浮窗服务，若应用处于后台，可能会无法启动服务；另外，显示悬浮窗需要悬浮窗权限，如果没有权限，悬浮窗可能无法显示，可以使用"),e("a",oe,[t("manageDrawOverlays"),d(o)]),t("和"),e("a",ie,[t("canDrawOverlays"),d(o)]),t("来查询和跳转悬浮窗权限。")]),le,re])}const ue=r(c,[["render",se],["__file","floating_window.FloatingWindow.html.vue"]]);export{ue as default};
